# PowerDNS Configuration Variables
powerdns:
  auth_version: "49"
  cert_server_ip: "10.100.0.172"

  staging:
    zone_configs:
      - domain: "cdn-geodev.runonflux.io"
        type: "geo"
        template_vars:
          default_ttl: "300"
          geo_routing: true
          lua_routing: false
          geo_regions:
            - name: "eu-central"
              description: "Germany EU"
              server: "cdn-1.runonflux.io"
              ip: "159.195.85.44"
            - name: "us-west"
              description: "West Coast USA"
              server: "cdn-2.runonflux.io"
              ip: "107.175.82.227"
            - name: "as-east"
              description: "Hong Kong Asia"
              server: "cdn-3.runonflux.io"
              ip: "180.188.197.165"
      - domain: "app2.runonflux.io"
        type: "app"
        template_vars:
          default_ttl: "3600"
          lua_routing: true
          geo_routing: false
          routing_script: "app_routing.lua"
          routing_function: "appRouteCname"
          debug_function: "appRouteDebug"
    soa_nameserver: "pdns2.runonflux.io."
    soa_email: "hostmaster.runonflux.io."
    nameservers: ["pdns2.runonflux.io."]
    master_ips: ["5.39.57.39"]
    slave_ips: ["5.161.41.40"]
    # TSIG key for zone transfers (generate with: openssl rand -base64 48)
    tsig_zone_transfer_key: "{{ tsig_staging_zone_transfer_key | default('REPLACE_WITH_STAGING_ZONE_TRANSFER_KEY') }}"
    # API key for certbot (generate with: openssl rand -base64 32)
    api_key: "{{ pdns_api_staging_key | default('REPLACE_WITH_STAGING_API_KEY') }}"

  production:
    zone_configs:
      - domain: "cdn-geo.runonflux.io"
        type: "geo"
        template_vars:
          default_ttl: "300"
          geo_routing: true
          lua_routing: false
          geo_regions:
            - name: "eu-central"
              description: "Germany EU"
              server: "cdn-1.runonflux.io"
              ip: "159.195.85.44"
            - name: "us-west"
              description: "West Coast USA"
              server: "cdn-2.runonflux.io"
              ip: "107.175.82.227"
            - name: "as-east"
              description: "Hong Kong Asia"
              server: "cdn-3.runonflux.io"
              ip: "180.188.197.165"
      - domain: "app.runonflux.io"
        type: "app"
        template_vars:
          default_ttl: "3600"
          lua_routing: true
          geo_routing: false
          routing_script: "app_routing.lua"
          routing_function: "appRouteCname"
          debug_function: "appRouteDebug"
    soa_nameserver: "pdns1.runonflux.io."
    soa_email: "hostmaster.runonflux.io."
    nameservers: ["pdns1.runonflux.io."]
    master_ips: ["5.39.57.38"]
    slave_ips: ["5.161.203.77", "178.128.30.247"]
    # TSIG key for zone transfers (generate with: openssl rand -base64 48)
    tsig_zone_transfer_key: "{{ tsig_production_zone_transfer_key | default('REPLACE_WITH_PRODUCTION_ZONE_TRANSFER_KEY') }}"
    # API key for certbot (generate with: openssl rand -base64 32)
    api_key: "{{ pdns_api_production_key | default('REPLACE_WITH_PRODUCTION_API_KEY') }}"

maxmind:
  account_id: "{{ maxmind_account_id | default('YOUR_ACCOUNT_ID') }}"
  license_key: "{{ maxmind_license_key | default('YOUR_LICENSE_KEY') }}"
